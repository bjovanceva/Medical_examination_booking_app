# Систем за закажување медицински прегледи

## Full Stack веб апликација  
Проектот е развиен со цел да се демонстрираат вештини во full-stack развој, автентикација, примена на бизнис логика и интеграција на плаќање.



## Опис на проектот

Веб апликација која овозможува пациентите да закажуваат прегледи кај доктори.  
Главни функционалности:

- Закажување прегледи во соодветни термини  
- Управување со листа на закажани прегледи  
- Плаќање преку интернет:
     - Stripe - овозможено
     - PayPal - планирано овозможување
- Автентикација и авторизација со Keycloak  
- Јавно прегледување на листата на доктори

---

## Користени технологии

- **Backend:** Spring Boot, Spring Security, JPA/Hibernate  
- **Frontend:** React, Axios, React Router  
- **База на податоци:** H2 / PostgreSQL  
- **Автентикација:** Keycloak (Docker)  
- **Интеграција на плаќање:** Stripe
- **API документација:** Swagger (OpenAPI)  
- **Контенеризација:** Docker Compose

---

## Архитектура на системот

- Слоевита архитектура (Controller → Service → Repository → Model)  
- REST API комуникација помеѓу frontend и backend  
- Frontend (React) се поврзува со backend преку Axios  
- Keycloak овозможува автентикација и авторизација  

---

## Модели

### Доктор
- Атрибути: id, име, презиме, слика, корисничко име, специјалност, цена за преглед  
- Може да додава пациенти 

### Пациент
- Атрибути: id, име, презиме, корисничко име, слика, адреса, возраст, матичен доктор  
- Може да закажува прегледи, да ја прегледува листата и да плаќа

### Преглед
- Атрибути: id, доктор, пациент, датум на преглед, време на преглед
- Many-to-Many врска

### Листа со прегледи
- Атрибути: id, датум на креирање, пациент, прегледи, статус (платено/неплатено)
- Ги содржи прегледите кои најавениот пациент ги има избрано со цел да ги резервира, но се' уште ги нема платено

---

## Бизнис правила

- Двајца пациенти **не можат да закажат истиот доктор во исто време**  
- Еден пациент **не може да има преклопувачки термини**, дури и кај различни доктори  
- Секој пациент има **точно еден матичен доктор**  
- Само автентицирани пациенти можат да закажуваат и плаќаат  
- Листата на доктори е јавно достапна  
- Статусот на преглед се менува од **неплатено → платено** по успешна уплата

---

## Автентикација и авторизација

- Овозможено преку Keycloak  
- **Улоги:**
  - `ADMIN` – додавање на доктори  
  - `DOCTOR` – додавање на пациенти  
  - `PATIENT` – закажување и плаќање на прегледи  

---

## Начин на плаќање

- Поддржани провајдери: Stripe 
- Пациентите можат да видат вкупна сума за неплатени прегледи  
- По успешна уплата, на корисникот му се прикажува страница за успешно плаќање

---

## Како да се стартува проектот (локално)
1. **Клонирање го репозиторумот:**
   - `git clone https://github.com/your-username/your-repo.git`
   - `cd your-repo`
2. **Стартување на Keycloak преку Docker Compose:**
   - `docker-compose up -d` откако ќе внесете соодветни вредности за KEYCLOAK_ADMIN и KEYCLOAK_ADMIN_PASSWORD (Keycloak ќе биде достапен на: `http://localhost:8080`)
   - креирање на Realm
   - креирање на Client за апликацијата
   - креирање на улоги
   - креирање на корисници
3. **Конфигурирање на backend променливи:**
   - во `application.properties`, `application-dev.properties`, `PaymentController (backend)`, `AuthController (backend)`, `config/StripeConfig` , `ReservationList (frontend)` заменете ги "" со ваши вредности
4. **Стартување на backend:**
   - Run MedicalExaminationBookingAppApplication
5. **Стартување на frontend:**
   - `cd medical_examination_booking_frontend`
   - `npm run dev`
6. **Тестирање на апликацијата:**
   - отвори frontend во прелистувач
   - најави се со кориснички профил кој е креиран во Keycloak
   - прегледај доктори, закажи прегледи, тестирај плаќање
